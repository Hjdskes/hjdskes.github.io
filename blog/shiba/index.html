<!DOCTYPE html>
<head>
  <meta charset="utf-8"/>
  <meta name="author" content="Jente Hidskes"/>
  <meta name="description" content="Using technology to get a puppy"/>
  <meta name="generator" content="Hugo 0.85.0" />
  <meta name="referrer" content="no-referrer"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <meta property="og:description" content="Using technology to get a puppy"/>
  <meta property="og:locale" content="en-us"/>
  <meta property="og:site_name" content="Jente Hidskes&#39; website"/>
  <meta property="og:title" content="The Shiba project üêï"/>
  <meta property="og:type" content="article"/>
  <meta property="og:url" content="https://www.hjdskes.nl/blog/shiba/"/>
  <meta property="og:image" content="https://www.hjdskes.nl/img/avatar.svg"/>

  <meta name="twitter:card" content="summary"/>
  
  <meta name="twitter:site" content="Hjdskes"/>
  
  <meta name="twitter:image:alt" content="Logo"/>

  <title>Jente Hidskes&#39; website - The Shiba project üêï</title>

  <link rel="canonical" href="https://www.hjdskes.nl/blog/shiba/"/>
  
  <link rel="shortcut icon" href="https://www.hjdskes.nl/img/favicon.ico"/>

  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito|Roboto+Mono"/>
  <link rel="stylesheet" type="text/css" href="/css/stylesheet.css"/>
</head>

<body>
  <div class="banner">
    <a href="https://www.hjdskes.nl/"><img src="https://www.hjdskes.nl/img/avatar.svg" alt="logo" /></a>
    <div>
      <a id="name" href="https://www.hjdskes.nl/"><h1>Jente Hidskes&#39; website</h1></a>
      <nav>
        
          <a href="https://www.hjdskes.nl/blog">Blog</a>
        
          <a href="https://www.hjdskes.nl/projects">Projects &amp; contributions</a>
        
        
          <a href="https://www.hjdskes.nl/about/">About me</a>
        
      </nav>
    </div>
  </div>


<h1>The Shiba project üêï</h1>

<div class="post-meta">
  
  
  Posted: <time datetime="Aug 27, 2022">Aug 27, 2022</time>
  &nbsp;‚Ä¢ 3 minute read</div>

<p>It&rsquo;s a cool Saturday evening here in Stockholm. I&rsquo;m sitting on the balcony with my new best friend by my side and a cool beer on the table. I just spun down a project that I <a href="/blog/haskell-nix-aws-lambda">hinted to</a> over a year ago. Now&rsquo;s a good time to reflect on it and explain what it was. Spoiler: it has to do with my new best friend here.</p>

<div style="column-count: 1; column-gap: 20px;">
  
  <img src="/img/blog/shiba/laszlo.jpg" style="width: 100%; height: auto; display: none" data-action="zoom">
  <noscript>
    <a href="/img/blog/shiba/laszlo.jpg">
      <img src="/img/blog/shiba/laszlo.jpg" style="width: 100%; height: auto;">
    </a>
  </noscript>
  
</div>

<p>In Sweden, buying a puppy is a well-controlled process. Only registered kennels sell puppies. As with everything in Sweden, you&rsquo;ll have to queue up and wait for your turn. Just as you&rsquo;ll be checking whether the puppy is a good fit for your family, they&rsquo;ll be making sure that your family is a good fit for the puppy. It can be a long process, but it truly has the best interest of the dogs in mind. In our case, we had to wait for roughly two years before it was finally our turn. That&rsquo;s partly because of the pandemic, during which many kennels took a break from breeding, but also because the Shiba Inu is just a rare dog in Sweden. There are only <a href="https://www.skk.se/sv/kopahund/hundraser--annonser/shiba/?show=breeders">around 10 active kennels</a> across the whole country, and the average litter size is only three puppies.</p>
<p>One year ago we started to get serious about getting a dog. We had everything in our lifes in order and it felt right, but we knew we weren&rsquo;t in the front of the queues yet. There are a few kennels that don&rsquo;t use a queueing system; they announce the puppies on their website and match on a first come, first serve basis. You can see where this is going: I automated the checking of their websites, notifying us when there were any changes. Was the project succesful? Well, we didn&rsquo;t end up getting our puppy through one of these kennels, so no. But it was a fun project that I used to get familiar with some technologies we still use today at work, and it was an opportunity to put my skills to use for something useful and fun. Also, the wife approval factor was high, so I definitely scored some points there üòâ</p>
<p>The Shiba project is a simple web scraper, built using Haskell on AWS serverless technologies. I periodically trigger a Lambda using a Cloudwatch event, which uses <a href="https://hackage.haskell.org/package/scalpel">scalpel</a> to do the scraping. Scrape results are persisted in and compared to previous results using DynamoDB, where the key is the websites to scrape and the values are the scraped pages. If there is a difference between the new result and the previous, we get a text message through SNS informing us that the website has been updated.</p>
<p>As I said, it&rsquo;s nothing special. I probably could have used some off the shelf components, even, or just run a simple script from my machine. It was good fun though, and it allowed me to use the technologies we&rsquo;re using at work in a freer context so I could experiment, learn and structure the project the way I prefer them to be. It has the whole shebang: well-structured and documented Haskell code, Nix, infrastructure as code with Terraform, and some GitHub Actions workflows for every PR. I&rsquo;m most proud of my hacks to <a href="/blog/haskell-nix-aws-lambda/">deploy a Nixified Haskell binary on AWS Lambda</a>. If you&rsquo;re curious to find out more, you can find it on <a href="https://github.com/Hjdskes/shiba">my GitHub</a>.</p>
<p>My new best friend&rsquo;s name is Laszlo, and he just woke up. I&rsquo;m going back to spending some time with him.</p>



  <div>
    <div class="align">
      
      <svg viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true">
        <path d="M22,19a2,2,0,0,1-2,2H4a2,2,0,0,1-2-2V5A2,2,0,0,1,4,3H9l2,3h9a2,2,0,0,1,2,2Z"></path>
      </svg>
    </div>
    <ul class="list">
      
        <li>
          
            <a href="https://www.hjdskes.nl/categories/projects/">Projects</a></li>
      
    </ul>
  </div>



  <div>
    <div class="align">
      
      <svg viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true">
        <path d="M20.59,13.41l-7.17,7.17a2,2,0,0,1-2.83,0L2,12V2H12l8.59,8.59A2,2,0,0,1,20.59,13.41Z"></path>
        <line x1="7" y1="7" x2="7" y2="7"></line>
      </svg>
    </div>
    <ul class="list">
      
        <li>
          
            <a href="https://www.hjdskes.nl/tags/aws/">aws</a></li>
      
        <li>
          
            <a href="https://www.hjdskes.nl/tags/haskell/">haskell</a></li>
      
    </ul>
  </div>


<footer>
  <nav>
     
      <a href="mailto:personal@hjdskes.nl" title="Send a mail to personal@hjdskes.nl">
        <svg viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true">
          <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
          <polyline points="22,6 12,13 2,6"/>
        </svg>
      </a>
    

     
      <a href="https://twitter.com/Hjdskes" title="Hjdskes on Twitter" rel=me>
        <svg viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true">
          <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"/>
        </svg>
      </a>
    

     
      <a href="https://github.com/Hjdskes" title="Hjdskes on GitHub" rel=me>
        <svg viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true">
          <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/>
        </svg>
      </a>
    

     
      <a href="https://gitlab.gnome.org/Hjdskes" title="Hjdskes on GNOME GitLab" rel=me>
        <svg viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true">
          <path d="M 10.788594,21.536734 C 7.1281588,20.923645 3.4317212,17.61669 3.8926704,13.669554 5.0660949,10.030121 9.4084325,9.002481 12.797722,9.0110661 c 3.127309,-0.7108099 5.300956,3.1584089 2.079944,4.7634329 -1.481971,1.481121 -6.562787,2.039887 -4.51544,4.8592 2.462629,2.050335 2.533426,-3.290017 5.338069,-2.15334 2.796365,0.976146 -0.163921,4.247454 -1.950641,4.696159 -0.921233,0.406032 -1.969188,0.530203 -2.96106,0.360216 z m 1.794295,-0.08356 c 2.705909,0.255118 6.301544,-4.993159 1.916049,-4.963018 -1.21743,1.167328 -3.784248,4.539961 -4.6998222,1.26491 0.2709802,-2.794652 3.8307952,-2.615115 5.4170302,-4.401817 2.651498,-1.633928 0.402305,-4.7420327 -2.166648,-4.246326 -3.3777465,-0.078097 -7.6444164,0.902415 -9.0000509,4.382807 -0.7054739,4.120455 3.3766681,7.576214 7.1722609,7.993766 0.453028,0.03846 0.910413,0.03039 1.361181,-0.03032 z M 3.9341566,10.427154 C 1.0490542,10.268445 3.2537383,5.1108327 4.7476099,8.3812657 5.0657664,9.1042431 5.0182823,10.460582 3.9341566,10.427154 Z M 4.4699344,10.30542 C 6.4977819,8.6779325 1.9003316,5.8776241 2.5877993,9.0260669 2.867495,9.7751822 3.6284369,10.422289 4.4699344,10.30542 Z M 6.7053902,8.5039933 C 3.6297286,7.8857682 6.6102452,2.4753402 7.9003551,6.1902266 8.0932518,7.0711831 7.829542,8.4523085 6.7053902,8.5039933 Z M 7.2746339,8.3298088 C 9.5332904,6.6816546 5.5180564,3.0049367 5.420685,6.6249745 5.5254822,7.5087681 6.2635101,8.5559472 7.2746339,8.3298088 Z M 14.642553,8.2311668 C 12.2283,6.5368719 14.541155,2.985536 16.840519,2.5219305 20.261447,1.9328509 20.0109,6.206991 17.399643,7.2088589 16.626868,7.8315576 15.666748,8.3385955 14.642553,8.2311668 Z M 15.768655,8.050831 c 2.864892,-0.3134359 5.553252,-6.0915541 0.966528,-5.299797 -2.55054,0.123197 -4.819128,5.8325044 -0.966528,5.299797 z M 10.185719,7.5115241 c -3.3583369,-1.5986324 1.671427,-6.90260758 1.965159,-2.311667 -0.105682,1.0279546 -0.733901,2.3978164 -1.965159,2.311667 z m 0.606495,-0.09287 C 13.232178,6.592527 11.605766,1.4635609 9.4839173,4.2607729 8.9204646,5.3532178 9.2561462,7.4217666 10.792214,7.4186541 Z"/>
        </svg>
      </a>
    

    
  </nav>

  <a href="/license">Copyright ¬© 2016-2022 Jente Hidskes</a>
</footer>

<link rel="stylesheet" type="text/css" href="/css/syntax.css"/>
<link rel="stylesheet" type="text/css" href="/css/zoom.css"/>
<script defer type="text/javascript" src="/js/zoom-vanilla.js"></script>
<script type="text/javascript">
  document.addEventListener('DOMContentLoaded', function() {
    images = document.querySelectorAll("img[data-action=\"zoom\"]");
    images.forEach(function(image) {
      image.style.display = "block";
    })
  }, false);
</script>

</body>
</html>

